# ![logo](https://raw.githubusercontent.com/lensvol/fl-genius-loci/master/images/vinyl-icon.svg) FL Genius Loci

[![License](https://img.shields.io/github/license/lensvol/fl-genius-loci)](https://github.com/lensvol/fl-genius-loci/blob/master/LICENSE) [![GitHub release (latest by date)](https://img.shields.io/github/v/release/lensvol/fl-genius-loci)](https://github.com/lensvol/fl-genius-loci/releases) [![Chrome Web Store](https://img.shields.io/chrome-web-store/v/pkofjignhlhcbcjpdoncnpalggkekefp)](https://chrome.google.com/webstore/detail/fl-genius-loci/pkofjignhlhcbcjpdoncnpalggkekefp) [![Mozilla Add-on](https://img.shields.io/amo/v/fl-genius-loci)](https://addons.mozilla.org/en-US/firefox/addon/fl-genius-loci/) [![Whitelisted by FBG](https://img.shields.io/badge/-pending%20approval-black?labelColor=562d33&logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAB8lBMVEVWLTNXLzVZMDZZMTdaMjhbMzlbNDlcNDpdNjxeNz1fOD1fOT5hO0FiPEFjPUJlP0VlQEVnQkhpRElpRUpqRktrR0xsSE1tSU5tSk9uS1BxT1RyUFVzUVZ0U1h1VFl2VVl2VVp4V1x4WF16WV57W2B8XGF8XWF%2BXmN%2BX2R%2FYGWAYWWAYmaBY2eCY2iDZWmEZmqEZ2uGaW2Ham6IbHCJbHGKbnKLb3OMcHSOcnaOc3eQdXmRdnqSd3uTeX2Uen2Uen6WfICXfoGYf4OagYWagoWcg4echIidhYmeh4qfiIugiIyjjZClj5KmkJOmkZSnkZWok5aplJeqlZiqlpmrlpmum52wnaCzoKOzoaS0oqW1o6W2pKe3pai3pqm4p6m5qau7q628rK69rbC%2BrrG%2Fr7G%2FsLLAsbPBsrTDtLbEtrjGuLrHubvJvL7Kvb%2FLv8HMwMHNwMLNwcPOwsTPxMXRxcfRxsjSx8nTyMnTycrUycvVyszXzc7YztDZz9HZ0NHa0dLd1NXd1dbe1tff19ng2Nnh2drh2tvi29zj3N3k3t%2Fn4eLo4uPo4%2BTp5OXq5ebr5ufs5%2Bjs6Ont6enu6uru6uvv6%2Bzw7e3y7%2B%2Fy7%2FDz8PH08fH08vL39fX49vb5%2BPj6%2Bfn7%2Bvr8%2FPz9%2Ff3%2B%2Ff3%2B%2Fv7%2F%2F%2F98piQOAAACUklEQVR42mIYemAUALqrB%2FVYsigMw%2F%2Bxjdi2bY8zjG3btm173efEyerq0k4%2FOu8FfFXb1r6uDmYfX0LNyy%2B23r6%2BTg7mjyH1uJOu7SzNSc0ODw8PdvQPT64d0o39NEi4kX5rkAgVqARAIpaMONojOXMFAc8g9RPd2KxIj%2FV3sTF7%2FxzAkw9WPr9tEEfHeZYw7q%2BbCU6VfsTxlJgDL8jJoktT32DEKDF%2FQ1YZXVj6BGNqWOX0M2TV0QVfGFXAMhOQ10rn2mDcPyxTD3ktdE5u6tJYphjyqomoHzIiWaYQ8lKIjp0hw49l8iHvaXFfMOR4s0wOBHmyTDYEuZsm42WajJ9pMoGmyYSYJhOhMxO%2F3fQWUlH6Mo82iXoeQyJGX%2BYNnfvjwX%2Fz5IyIDq1gKEFfBrt0buKV9L7Rl1mgC5Ph%2FFp%2FNavzaI7Tlf2ukj%2BTEiMiIhKiIiJ%2BnSKmAGp6SYMiqGkhDcqhpok0qNKROV3s7zg3snIkydRCTeP1DBf5vcGNl99%2FPtT6wLBM71dwuSzTrG2KJ1%2FDQDTLtENNG53zhKEwlumBmgYialV77vqhJp3o0BIScSwzBDWvW2bCIJXMMmMQ9AvLTEHQ7ywzA0H%2FsswiBGWwzDoE5bPMFgSVscwOBNWYJtPMMvsQ1M0yZ48gZoCYdxAzSowrxKwSkwwh5sQ1QEgpcSd20O95JhmaM4c%2BH4LyN0hqP%2FM7NLMtnidZE%2F%2FZa5zZQ1JW%2BUxT5phUpEALj5rp5Z3VuZHhwY5rwxem5%2Bb36NxZ5xc80IuvDhZv8WP7H8blSpmvfk5tAAAAAElFTkSuQmCC)](https://community.failbettergames.com/messages.aspx?TopicID=9506&#post75863) 

![screenshot](https://raw.githubusercontent.com/lensvol/fl-genius-loci/master/screenshot.png)

Browser extension for [Fallen London](https://www.fallenlondon.com/) that plays location-appropriate tracks.

Grab it from:
* [Releases page](https://github.com/lensvol/fl-genius-loci/releases) (most up-to-date, see below for instructions)

**NB: No music files are supplied with the extension! You'll have to provide
your own copy of [Fallen London OST](https://failbettergames.bandcamp.com/album/fallen-london-ost) or any other track.** 

## Setting up

* Close any Fallen Londons tabs before you start. 

* First, install the extension using the [instructions](#manual-installation) provided below.

* Second, open the folder where you unzipped the extension and find `tracks` subfolder. If you having trouble,
just search your computer for `OST_GOES_HERE` file which is contained within. This is
the place where your MP3 (or OGG) files should go so that extension can discover them.

* By default, extension is expecting to see files from the [official Fallen London OST](https://failbettergames.bandcamp.com/album/fallen-london-ost). If your version's
files are named differently or you want to use completely different set of files, just modify
`tracks` section in [`mappings.json`](https://github.com/lensvol/fl-genius-loci/blob/main/mappings.json) located
in the directory where you unzipped the extension.

* That's it! Now if you visit any Fallen London location covered by the extension you should start hearing an appropriate track on the loop.


## Manual installation

### Chrome

1. Download **.ZIP** file from the "Releases" page.
2. Unzip that file somewhere on your computer.
3. Open _Chrome_.
4. Go to **chrome://extensions** and
5. Check the box for "Developer Mode" (top right corner).
6. Click **Load unpacked extension** and select the folder where you unzipped the file. 

### Mozilla Firefox

1. Download **.ZIP** file from the "Releases" page.
2. Unzip that file somewhere on your computer.
3. Open **about:debugging** page.
4. Click **Load Temporary Add-On**
5. Select any file in the folder where you unzipped the archive.

### Opera

1. Download **.ZIP** file from the "Releases" page.
2. Unzip that file somewhere on your computer.
3. Open **opera:extensions** page.
4. Enable "Developer Mode" (top right corner).
6. Click **Load unpacked** and select the folder where you unzipped the file.

## TODO

* Add customization guide
* Settings page

## Attribution
This extensions icon is by [Paomedia](https://www.iconfinder.com/paomedia) and is used under [Creative Commons Attribution 3.0 Unported](http://creativecommons.org/licenses/by/3.0/) license.

## Special thanks
* Saltlord, a scorn fluke - for early testing and support for the idea.
* [Alan Huang](https://github.com/alanhuang122) - for providing the list of area IDs inside FL app.
* [Arkuzian](https://www.reddit.com/user/Arkuzian/) - for helping to debug issues with the background script.